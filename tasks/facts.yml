---

# Setup ansible connection facts

- name: save ansible final user authentication information
  set_fact:
    bootstrap_ansible_user_final: "{{ ansible_user }}"
    bootstrap_ansible_password_final: >-
      {{ ansible_password
         | password_hash('sha512', 100000000000 | random | string) }}
    bootstrap_ansible_become_final: "{{ ansible_become | default(false) }}"
    bootstrap_ansible_become_user_final: >-
      {{ ansible_become_user | default('') }}
    bootstrap_ansible_become_password_final: >-
      {{ ansible_become_pass
         | default('')
         | password_hash('sha512', 100000000000 | random | string) }}
  tags:
    - role::bootstrap
